# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/gnome-14/gtkhtml-10/install-Conf.sh.patch
# ROCK Linux is Copyright (C) 1998 - 2003 Clifford Wolf
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
# 
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

--- ./Makefile.in	Thu Dec  5 19:02:51 2002
+++ ./Makefile.in	Thu Dec 19 10:25:08 2002
@@ -157,6 +157,9 @@
 pkgconfigdir = $(libdir)/pkgconfig
 pkgconfig_DATA = gtkhtml-@GTKHTML_RELEASE@.pc
 
+confexecdir = $(libdir)
+confexec_DATA = gtkhtmlConf.sh
+
 SUBDIRS = \
 	intl					\
 	macros					\
@@ -171,6 +174,7 @@
 EXTRA_DIST = \
 	gtkhtml.spec.in				\
 	gtkhtml.spec                            \
+	gtkhtmlConf.sh.in			\
 	COPYING.LIB				\
 	BUGS					\
 	xml-i18n-extract.in			\
@@ -181,7 +185,7 @@
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
 CONFIG_HEADER = config.h
 CONFIG_CLEAN_FILES =  gtkhtml.spec gtkhtml-1.1.pc
-DATA =  $(pkgconfig_DATA)
+DATA =  $(confexec_DATA) $(pkgconfig_DATA)
 
 DIST_COMMON =  README ./stamp-h.in ABOUT-NLS AUTHORS COPYING COPYING.LIB \
 ChangeLog INSTALL Makefile.am Makefile.in NEWS TODO acconfig.h \
@@ -263,6 +267,25 @@
 	  rm -f $(DESTDIR)$(pkgconfigdir)/$$p; \
 	done
 
+install-confexecDATA: $(confexec_DATA)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(confexecdir)
+	@list='$(confexec_DATA)'; for p in $$list; do \
+	  if test -f $(srcdir)/$$p; then \
+	    echo " $(INSTALL_DATA) $(srcdir)/$$p $(DESTDIR)$(confexecdir)/$$p"; \
+	    $(INSTALL_DATA) $(srcdir)/$$p $(DESTDIR)$(confexecdir)/$$p; \
+	  else if test -f $$p; then \
+	    echo " $(INSTALL_DATA) $$p $(DESTDIR)$(confexecdir)/$$p"; \
+	    $(INSTALL_DATA) $$p $(DESTDIR)$(confexecdir)/$$p; \
+	  fi; fi; \
+	done
+
+uninstall-confexecDATA:
+	@$(NORMAL_UNINSTALL)
+	list='$(confexec_DATA)'; for p in $$list; do \
+	  rm -f $(DESTDIR)$(confexecdir)/$$p; \
+	done
+
 # This directory's subdirectories are mostly independent; you can cd
 # into them and run `make' without going through this Makefile.
 # To change the values of `make' variables: instead of editing Makefiles,
@@ -421,7 +444,7 @@
 all-recursive-am: config.h
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
-install-exec-am:
+install-exec-am: install-confexecDATA
 install-exec: install-exec-recursive
 
 install-data-am: install-pkgconfigDATA
@@ -430,7 +453,7 @@
 install-am: all-am
 	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
 install: install-recursive
-uninstall-am: uninstall-pkgconfigDATA
+uninstall-am: uninstall-pkgconfigDATA uninstall-confexecDATA
 uninstall: uninstall-recursive
 all-am: Makefile $(DATA) config.h
 all-redirect: all-recursive-am
@@ -438,7 +461,7 @@
 	$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install
 installdirs: installdirs-recursive
 installdirs-am:
-	$(mkinstalldirs)  $(DESTDIR)$(pkgconfigdir)
+	$(mkinstalldirs)  $(DESTDIR)$(confexecdir) $(DESTDIR)$(pkgconfigdir)
 
 
 mostlyclean-generic:
@@ -474,6 +497,7 @@
 
 .PHONY: mostlyclean-hdr distclean-hdr clean-hdr maintainer-clean-hdr \
 uninstall-pkgconfigDATA install-pkgconfigDATA install-data-recursive \
+uninstall-confexecDATA install-confexecDATA \
 uninstall-data-recursive install-exec-recursive \
 uninstall-exec-recursive installdirs-recursive uninstalldirs-recursive \
 all-recursive check-recursive installcheck-recursive info-recursive \
@@ -486,6 +510,15 @@
 installdirs mostlyclean-generic distclean-generic clean-generic \
 maintainer-clean-generic clean mostlyclean distclean maintainer-clean
 
+
+gtkhtmlConf.sh: gtkhtmlConf.sh.in Makefile
+	sed -e 's?\@GTKHTML_LIBDIR\@?$(GTKHTML_LIBDIR)?g' \
+	    -e 's?\@GTKHTML_INCLUDEDIR\@?$(GTKHTML_INCLUDEDIR)?g' \
+	    -e 's?\@GTKHTML_DATADIR\@?$(GTKHTML_DATADIR)?g' \
+	    -e 's?\@VERSION\@?$(VERSION)?g' \
+	    -e 's?\@GTKHTML_LIBS\@?$(GTKHTML_LIBS)?g' \
+	      < $(srcdir)/gtkhtmlConf.sh.in > gtkhtmlConf.tmp \
+	  && mv gtkhtmlConf.tmp gtkhtmlConf.sh
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
--- ./gtkhtmlConf.sh.in	Thu Jan  1 01:00:00 1970
+++ ./gtkhtmlConf.sh.in	Thu May 31 21:22:35 2001
@@ -0,0 +1,8 @@
+#
+# Configuration file for using the GtkHTML library in GNOME applications
+#
+GTKHTML_LIBDIR="@GTKHTML_LIBDIR@"
+GTKHTML_LIBS="@GTKHTML_LIBS@"
+GTKHTML_INCLUDEDIR="@GTKHTML_INCLUDEDIR@"
+GTKHTML_DATADIR="@GTKHTML_DATADIR@"
+MODULE_VERSION="gtkhtml-@VERSION@"
