[COPY] --- T2-COPYRIGHT-BEGIN ---
[COPY] t2/package/*/matrox-mtx/matrox-mtx.desc
[COPY] Copyright (C) 2004 - 2025 The T2 SDE Project
[COPY] SPDX-License-Identifier: GPL-2.0
[COPY] --- T2-COPYRIGHT-END ---

[I] Matrox MTX (Parhelia) Linux driver

[T] These X11 binary-only drivers provide optimized hardware acceleration of
[T] X11 and OpenGL applications via a direct-rendering for Matrox MTX
[T] Parhelia graphic chips.

[U] https://www.matrox.com

[A] Matrox Corp.
[M] Rene Rebe <rene@t2-project.org>

[C] base/system
[F] BINARY
[R] + x86 x86-64

[L] Free-to-use
[S] Beta
[V] 1.4.7
[P] O -----5---9 131.300

[D] a5d55f22cdad8af3b390a158b13dee6be7f77772d54b8e4cfb1b066e mtxdriver-installer-x86_32-cvs-20090511.run ftp://mgiwsdrv:XbV4s3a2@privftp.matrox.com/private/driver_linux/2009/1.4.7/
[D] e5969fb703e6a71627ea3c4ae564630dee3a24e1ae02131493999532 mtxdriver-installer-x86_64-cvs-20090511.run ftp://mgiwsdrv:XbV4s3a2@privftp.matrox.com/private/driver_linux/2009/1.4.7/

autoextract=0 runmake=0
srctar="`match_source_file -p ${arch/-/_} | head -n 1`"

install_mtx() {
	echo . | sh $srctar --extract-only || true
	cd m*
	apply_patchfiles

	# in /usr/lib* it should have priority over /usr/X11/, ... :-/
	xver=7_4_0
	install opengl6/libGL.so.* $root/$prefix/lib/
	[[ $arch = *64 ]] && install opengl6/lib64/libGL.so.* $root/$prefix/lib64/

	# TODO: libmtxcfg.so and wizards
	install xserver/$xver/{mtx_drv.so,v4l_drv.so} $root/usr/X11/${libdir##*/}/xorg/modules/drivers/
	install xserver/$xver/libglx.so $root/usr/X11/${libdir##*/}/xorg/modules/extensions/

	cp -vf docs/* samples/* $docdir/
}

hook_add inmake 5 install_mtx
