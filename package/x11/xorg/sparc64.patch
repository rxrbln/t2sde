# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../xorg/sparc64.patch
# Copyright (C) 2004 - 2005 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- T2-COPYRIGHT-NOTE-END ---

Some fixup to get the sparc assembly built on sparc64.

  - Rene Rebe <rene@exactcode.de>

diff -ur --exclude '*.o' --exclude Makefile xc/programs/Xserver/hw/xfree86/drivers/sunffb/VISmoveImage.s xc-sparc64/programs/Xserver/hw/xfree86/drivers/sunffb/VISmoveImage.s
--- xc/programs/Xserver/hw/xfree86/drivers/sunffb/VISmoveImage.s	2004-04-23 19:48:16.000000000 +0000
+++ xc-sparc64/programs/Xserver/hw/xfree86/drivers/sunffb/VISmoveImage.s	2005-01-23 05:37:34.000000000 +0000
@@ -131,6 +131,9 @@
 #define load_bank2		f48-f62
 #define fnop			fmovd	%ftmp2, %ftmp2
 
+        .register %g2,#scratch
+        .register %g3,#scratch
+
 #define LOAD(f32,f46,tgt,tgtr)							\
 	subcc			%curw, 64, %curw;				\
 	bleu,pn			%ICC, tgt;					\
diff -ur --exclude '*.o' --exclude Makefile xc/programs/Xserver/hw/xfree86/drivers/sunffb/ffb_asm.s xc-sparc64/programs/Xserver/hw/xfree86/drivers/sunffb/ffb_asm.s
--- xc/programs/Xserver/hw/xfree86/drivers/sunffb/ffb_asm.s	2004-04-23 19:48:16.000000000 +0000
+++ xc-sparc64/programs/Xserver/hw/xfree86/drivers/sunffb/ffb_asm.s	2005-01-23 06:00:57.000000000 +0000
@@ -54,6 +54,9 @@
 #define SEG_X2		0x04
 #define SEG_Y2		0x06
 
+        .register %g2,#scratch
+        .register %g3,#scratch
+
 	.text
 
 	.align	32
