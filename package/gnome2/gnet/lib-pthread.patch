
The usual strange Gnome package assumption that -pthread is a library and
libtool does not like to parse ...

  - Rene Rebe <rene@exactcode.de>

--- ./configure.orig	2004-11-03 19:29:08.057402352 +0100
+++ ./configure	2004-11-03 19:30:01.543340950 +0100
@@ -4773,10 +4773,10 @@
 if test "x${enable_pthreads}" = "xyes"; then
   PTHREAD_LIBS=""
 
-  echo "$as_me:$LINENO: checking for -pthread" >&5
-echo $ECHO_N "checking for -pthread... $ECHO_C" >&6
+  echo "$as_me:$LINENO: checking for -lpthread" >&5
+echo $ECHO_N "checking for -lpthread... $ECHO_C" >&6
   gnet_save_LIBS=$LIBS
-  LIBS="$LIBS -pthread"
+  LIBS="$LIBS -lpthread"
   dash_pthread=""
   cat >conftest.$ac_ext <<_ACEOF
 int main() { return 0; }
@@ -4793,7 +4793,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  dash_pthread="-pthread"
+  dash_pthread="-lpthread"
 	 echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
 else
@@ -4802,9 +4802,9 @@
 dash_pthread=""
 	 echo "$as_me:$LINENO: result: no" >&5
 echo "${ECHO_T}no" >&6
-         echo "$as_me:$LINENO: checking for -pthreads" >&5
-echo $ECHO_N "checking for -pthreads... $ECHO_C" >&6
-         LIBS="$gnet_save_LIBS -pthreads"
+         echo "$as_me:$LINENO: checking for -lpthreads" >&5
+echo $ECHO_N "checking for -lpthreads... $ECHO_C" >&6
+         LIBS="$gnet_save_LIBS -lpthreads"
 	 cat >conftest.$ac_ext <<_ACEOF
 int main() { return 0; }
 _ACEOF
@@ -4820,7 +4820,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  dash_pthread="-pthreads"
+  dash_pthread="-lpthreads"
 	   echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
 else
