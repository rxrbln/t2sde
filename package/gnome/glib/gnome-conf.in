# --- T2-COPYRIGHT-NOTE-BEGIN ---
# T2 SDE: package/*/glib/gnome-conf.in
# Copyright (C) 2004 - 2021 The T2 SDE Project
# 
# This Copyright note is generated by scripts/Create-CopyPatch,
# more information can be found in the files COPYING and README.
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 2.
# --- T2-COPYRIGHT-NOTE-END ---

if [ "$prefix_auto" = 1 ]; then
	if [ "$1" == "NO_SANITY_CHECK" ]; then
		if [ "$SDECFG_PKG_GNOME2_CORE_PREFIX" ]; then
			prefix="$SDECFG_PKG_GNOME2_CORE_PREFIX"
	  	else
			prefix="opt/gnome"
	  	fi
  	elif pkginstalled glib; then
  		pkgprefix -t glib
		prefix=`pkgprefix glib`
	fi
	set_confopt
fi

# index.sgml is missing in almost all packages ...
var_append confopt " " "--disable-gtk-doc"

# disable g-ir-scanner caching, TODO: move to own parse-config?
export GI_SCANNER_DISABLE_CACHE=1

# don't run a gtk test program which would try to acccess an X server
var_append confopt " " "--disable-gtktest"

# include sub-package definitions
. package/*/gtk+/gtk+-pkg.conf
. package/*/scrollkeeper/scrollkeeper-pkg.conf
. package/*/gconf/gconf-pkg.conf
. package/*/gstreamer/gstreamer-pkg.conf
