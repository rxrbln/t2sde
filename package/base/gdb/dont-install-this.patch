# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/base/gdb/dont-install-this.patch
# ROCK Linux is Copyright (C) 1998 - 2003 Clifford Wolf
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
# 
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

--- ./bfd/Makefile.in.orig	Fri Aug 30 10:11:44 2002
+++ ./bfd/Makefile.in	Sat Jan 18 20:08:01 2003
@@ -130,7 +130,7 @@
 CSEARCH = -I. -I$(srcdir) -I$(INCDIR)
 MKDEP = gcc -MM
 
-SUBDIRS = doc po
+SUBDIRS = doc
 
 docdir = doc
 bfdlibdir = @bfdlibdir@
@@ -1077,7 +1077,8 @@
 
 install-am: all-am
 	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
-install: install-recursive
+install:
+#install: install-recursive
 uninstall-am: uninstall-bfdlibLTLIBRARIES
 uninstall: uninstall-recursive
 all-am: Makefile $(LIBRARIES) $(LTLIBRARIES) config.h
--- ./configure.orig	2002-05-31 23:09:45.000000000 +0300
+++ ./configure	2003-08-27 14:59:37.000000000 +0300
@@ -527,6 +527,8 @@
 moveifchange=`echo ${progname} | sed 's/configure$/move-if-change/'`
 ## the sed command below emulates the dirname command
 topsrcdir=`cd \`echo ${progname} | sed -e 's,[^/]*$,,;s,/$,,;s,^$,.,'\`; ${PWDCMD-pwd}`
+# the readline package in rock-linux is recent enough
+${remove} -f ${topsrcdir}/readline/configure*
 
 
 # this is a hack.  sun4 must always be a valid host alias or this will fail.
--- ./etc/Makefile.in.orig	Sat Jan 26 22:35:45 2002
+++ ./etc/Makefile.in	Sat Jan 18 19:59:43 2003
@@ -52,7 +52,8 @@
 all:
 
 # We want install to imply install-info as per GNU standards.
-install: install-info
+install:
+# install: install-info
 
 uninstall:
 
--- ./gdb/defs.h.orig	2002-08-01 20:18:32.000000000 +0300
+++ ./gdb/defs.h	2003-08-27 14:53:36.000000000 +0300
@@ -614,10 +614,6 @@
 
 struct frame_info;
 
-/* From readline (but not in any readline .h files).  */
-
-extern char *tilde_expand (char *);
-
 /* Control types for commands */
 
 enum misc_command_type
--- ./gdb/Makefile.in.orig	2002-11-26 00:05:38.000000000 +0200
+++ ./gdb/Makefile.in	2003-08-27 14:55:25.000000000 +0300
@@ -370,10 +370,10 @@
 INSTALLED_LIBS=-lbfd -lreadline -lopcodes -liberty \
 	$(TERMCAP) $(XM_CLIBS) $(TM_CLIBS) $(NAT_CLIBS) $(GDBTKLIBS) @LIBS@ \
 	-lmmalloc -lintl -liberty
-CLIBS = $(SIM) $(BFD) $(READLINE) $(OPCODES) $(INTL) $(LIBIBERTY) \
+CLIBS = $(SIM) $(BFD) -lreadline $(OPCODES) $(INTL) $(LIBIBERTY) \
 	$(TERMCAP) $(XM_CLIBS) $(TM_CLIBS) $(NAT_CLIBS) $(GDBTKLIBS) @LIBS@ \
 	$(MMALLOC) $(LIBIBERTY) $(WIN32LIBS)
-CDEPS = $(XM_CDEPS) $(TM_CDEPS) $(NAT_CDEPS) $(SIM) $(BFD) $(READLINE) \
+CDEPS = $(XM_CDEPS) $(TM_CDEPS) $(NAT_CDEPS) $(SIM) $(BFD) \
 	$(OPCODES) $(MMALLOC) $(INTL_DEPS) $(LIBIBERTY) $(CONFIG_DEPS)
 
 ADD_FILES = $(XM_ADD_FILES) $(TM_ADD_FILES) $(NAT_ADD_FILES)
--- ./libiberty/Makefile.in.orig	Mon Jul  1 20:02:30 2002
+++ ./libiberty/Makefile.in	Sat Jan 18 20:05:39 2003
@@ -259,20 +259,20 @@
 install: install_to_$(INSTALL_DEST) install-subdir
 
 install_to_libdir: all
-	$(INSTALL_DATA) $(TARGETLIB) $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)n
-	( cd $(DESTDIR)$(libdir)$(MULTISUBDIR) ; $(RANLIB) $(TARGETLIB)n )
-	mv -f $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)n $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)
-	if test -n "${target_header_dir}"; then \
-	  case "${target_header_dir}" in \
-	    /*)    thd=${target_header_dir};; \
-	    *)     thd=${includedir}${MULTISUBDIR}/${target_header_dir};; \
-	  esac; \
-	  ${mkinstalldirs} $(DESTDIR)$${thd}; \
-	  for h in ${INSTALLED_HEADERS}; do \
-	    ${INSTALL_DATA} $$h $(DESTDIR)$${thd}; \
-	  done; \
-	fi
-	@$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=install
+#	$(INSTALL_DATA) $(TARGETLIB) $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)n
+#	( cd $(DESTDIR)$(libdir)$(MULTISUBDIR) ; $(RANLIB) $(TARGETLIB)n )
+#	mv -f $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)n $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)
+#	if test -n "${target_header_dir}"; then \
+#	  case "${target_header_dir}" in \
+#	    /*)    thd=${target_header_dir};; \
+#	    *)     thd=${includedir}${MULTISUBDIR}/${target_header_dir};; \
+#	  esac; \
+#	  ${mkinstalldirs} $(DESTDIR)$${thd}; \
+#	  for h in ${INSTALLED_HEADERS}; do \
+#	    ${INSTALL_DATA} $$h $(DESTDIR)$${thd}; \
+#	  done; \
+#	fi
+#	@$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=install
 
 install_to_tooldir: all
 	$(INSTALL_DATA) $(TARGETLIB) $(DESTDIR)$(tooldir)/lib$(MULTISUBDIR)/$(TARGETLIB)n
--- ./opcodes/Makefile.in.orig	Wed Aug 28 12:38:50 2002
+++ ./opcodes/Makefile.in	Sat Jan 18 20:09:32 2003
@@ -112,7 +112,7 @@
 
 AUTOMAKE_OPTIONS = cygnus
 
-SUBDIRS = po
+SUBDIRS =
 
 INCDIR = $(srcdir)/../include
 BFDDIR = $(srcdir)/../bfd
@@ -730,7 +730,8 @@
 
 install-am: all-am
 	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
-install: install-recursive
+install:
+#install: install-recursive
 uninstall-am: uninstall-bfdlibLTLIBRARIES
 uninstall: uninstall-recursive
 all-am: Makefile $(LIBRARIES) $(LTLIBRARIES) config.h
