--- e2fsprogs-old/misc/util.c	Sat May  3 15:46:47 2003
+++ e2fsprogs-1.34/misc/util.c	Tue Sep 30 06:56:11 2003
@@ -108,13 +108,8 @@
 #define MAJOR(dev)	((dev)>>8)
 #define MINOR(dev)	((dev) & 0xff)
 #endif
-#ifndef SCSI_BLK_MAJOR
-#define SCSI_BLK_MAJOR(M)  ((M) == SCSI_DISK_MAJOR || (M) == SCSI_CDROM_MAJOR)
-#endif
-	if (((MAJOR(s.st_rdev) == HD_MAJOR &&
-	      MINOR(s.st_rdev)%64 == 0) ||
-	     (SCSI_BLK_MAJOR(MAJOR(s.st_rdev)) &&
-	      MINOR(s.st_rdev)%16 == 0))) {
+	if (MAJOR(s.st_rdev) == HD_MAJOR &&
+	    MINOR(s.st_rdev)%64 == 0) {
 		printf(_("%s is entire device, not just one partition!\n"),
 		       device);
 		proceed_question();
