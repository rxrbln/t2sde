# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/base/e2fsprogs/modify_before_install.patch
# ROCK Linux is Copyright (C) 1998 - 2003 Clifford Wolf
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
# 
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

chmod and ranlib before install because install_wrapper moves the file
to an 'unknown' location.

 -Alejandro

--- ./lib/et/Makefile.in.orig	2003-09-19 16:37:15.000000000 -0400
+++ ./lib/et/Makefile.in	2003-09-19 16:38:14.000000000 -0400
@@ -86,10 +86,10 @@
 		$(DESTDIR)$(man3dir)
 
 install:: compile_et libcom_err.a $(HFILES) installdirs
+	$(CHMOD) 644 libcom_err.a
+	-$(RANLIB) libcom_err.a
+	$(CHMOD) $(LIBMODE) libcom_err.a
 	$(INSTALL_DATA) libcom_err.a $(DESTDIR)$(libdir)/libcom_err.a
-	$(CHMOD) 644 $(DESTDIR)$(libdir)/libcom_err.a
-	-$(RANLIB) $(DESTDIR)$(libdir)/libcom_err.a
-	$(CHMOD) $(LIBMODE) $(DESTDIR)$(libdir)/libcom_err.a
 	for i in $(HFILES); do \
 		$(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(includedir)/et/$$i; \
 	done
--- ./lib/ss/Makefile.in.orig	2003-09-19 16:48:25.000000000 -0400
+++ ./lib/ss/Makefile.in	2003-09-19 16:49:04.000000000 -0400
@@ -135,10 +135,10 @@
 		$(DESTDIR)$(bindir)
 
 install:: libss.a $(INSTALL_HFILES) installdirs ss_err.h mk_cmds
+	$(CHMOD) 644 libss.a
+	-$(RANLIB) libss.a
+	$(CHMOD) $(LIBMODE) libss.a
 	$(INSTALL_DATA) libss.a $(DESTDIR)$(libdir)/libss.a
-	$(CHMOD) 644 $(DESTDIR)$(libdir)/libss.a
-	-$(RANLIB) $(DESTDIR)$(libdir)/libss.a
-	$(CHMOD) $(LIBMODE) $(DESTDIR)$(libdir)/libss.a
 	$(RM) -f $(DESTDIR)$(includedir)/ss/*
 	for i in $(INSTALL_HFILES); do \
 		$(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(includedir)/ss/$$i; \
--- ./lib/e2p/Makefile.in.orig	2003-09-19 16:57:37.000000000 -0400
+++ ./lib/e2p/Makefile.in	2003-09-19 16:58:51.000000000 -0400
@@ -75,10 +75,10 @@
 		$(DESTDIR)$(includedir)/e2p
 
 install:: all installdirs 
+	$(CHMOD) 644 libe2p.a
+	-$(RANLIB) libe2p.a
+	$(CHMOD) $(LIBMODE) libe2p.a
 	$(INSTALL_DATA) libe2p.a $(DESTDIR)$(libdir)/libe2p.a
-	$(CHMOD) 644 $(DESTDIR)$(libdir)/libe2p.a
-	-$(RANLIB) $(DESTDIR)$(libdir)/libe2p.a
-	$(CHMOD) $(LIBMODE) $(DESTDIR)$(libdir)/libe2p.a
 	set -e; for i in $(HFILES); do \
 	  $(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(includedir)/e2p/$$i; \
 	done
--- ./lib/ext2fs/Makefile.in.orig	2003-09-19 17:09:05.000000000 -0400
+++ ./lib/ext2fs/Makefile.in	2003-09-19 17:09:43.000000000 -0400
@@ -222,10 +222,10 @@
 		$(DESTDIR)$(includedir)/ext2fs
 
 install:: all $(HFILES) $(HFILES_IN) installdirs 
+	$(CHMOD) 644 libext2fs.a
+	-$(RANLIB) libext2fs.a
+	$(CHMOD) $(LIBMODE) libext2fs.a
 	$(INSTALL_DATA) libext2fs.a $(DESTDIR)$(libdir)/libext2fs.a
-	$(CHMOD) 644 $(DESTDIR)$(libdir)/libext2fs.a
-	-$(RANLIB) $(DESTDIR)$(libdir)/libext2fs.a
-	$(CHMOD) $(LIBMODE) $(DESTDIR)$(libdir)/libext2fs.a
 	for i in $(HFILES); do \
 		$(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(includedir)/ext2fs/$$i; \
 	done
--- ./lib/uuid/Makefile.in.orig	2003-09-19 17:19:09.000000000 -0400
+++ ./lib/uuid/Makefile.in	2003-09-19 17:19:42.000000000 -0400
@@ -129,10 +129,10 @@
 		$(DESTDIR)$(includedir)/uuid $(DESTDIR)$(man3dir)
 
 install:: all installdirs 
+	$(CHMOD) 644 libuuid.a
+	-$(RANLIB) libuuid.a
+	$(CHMOD) $(LIBMODE) libuuid.a
 	$(INSTALL_DATA) libuuid.a $(DESTDIR)$(libdir)/libuuid.a
-	$(CHMOD) 644 $(DESTDIR)$(libdir)/libuuid.a
-	-$(RANLIB) $(DESTDIR)$(libdir)/libuuid.a
-	$(CHMOD) $(LIBMODE) $(DESTDIR)$(libdir)/libuuid.a
 	$(INSTALL_DATA) $(srcdir)/uuid.h $(DESTDIR)$(includedir)/uuid/uuid.h
 	$(INSTALL_DATA) uuid_types.h $(DESTDIR)$(includedir)/uuid/uuid_types.h
 	for i in $(SMANPAGES); do \
--- ./lib/blkid/Makefile.in.orig	2003-09-19 17:25:29.000000000 -0400
+++ ./lib/blkid/Makefile.in	2003-09-19 17:26:22.000000000 -0400
@@ -112,10 +112,10 @@
 		$(DESTDIR)$(includedir)/blkid
 
 install:: all installdirs 
+	$(CHMOD) 644 libblkid.a
+	-$(RANLIB) libblkid.a
+	$(CHMOD) $(LIBMODE) libblkid.a
 	$(INSTALL_DATA) libblkid.a $(DESTDIR)$(libdir)/libblkid.a
-	$(CHMOD) 644 $(DESTDIR)$(libdir)/libblkid.a
-	-$(RANLIB) $(DESTDIR)$(libdir)/libblkid.a
-	$(CHMOD) $(LIBMODE) $(DESTDIR)$(libdir)/libblkid.a
 	set -e; for i in $(HFILES); do \
 	  $(INSTALL_DATA) $(srcdir)/$$i $(DESTDIR)$(includedir)/blkid/$$i; \
 	done
