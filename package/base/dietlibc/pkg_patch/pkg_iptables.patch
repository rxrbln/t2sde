diff -ruN iptables-1.3.2.orig/Makefile iptables-1.3.2/Makefile
--- iptables-1.3.2.orig/Makefile	2005-07-10 16:01:40.000000000 +0200
+++ iptables-1.3.2/Makefile	2005-07-19 12:19:41.000000000 +0200
@@ -103,7 +103,7 @@
 STATIC_LIBS  = extensions/libext.a
 STATIC6_LIBS = extensions/libext6.a
 LDFLAGS      = -static
-LDLIBS       =
+LDLIBS       =  
 endif
 
 .PHONY: default
diff -ruN iptables-1.3.2.orig/include/libiptc/ipt_kernel_headers.h iptables-1.3.2/include/libiptc/ipt_kernel_headers.h
--- iptables-1.3.2.orig/include/libiptc/ipt_kernel_headers.h	2004-10-10 11:56:23.000000000 +0200
+++ iptables-1.3.2/include/libiptc/ipt_kernel_headers.h	2005-07-19 12:17:03.000000000 +0200
@@ -5,7 +5,7 @@
 
 #include <limits.h>
 
-#if defined(__GLIBC__) && __GLIBC__ == 2
+#if (defined(__GLIBC__) && __GLIBC__ == 2) || defined(__dietlibc__) 
 #include <netinet/ip.h>
 #include <netinet/in.h>
 #include <netinet/ip_icmp.h>
diff -ruN iptables-1.3.2.orig/iptables-restore.c iptables-1.3.2/iptables-restore.c
--- iptables-1.3.2.orig/iptables-restore.c	2005-06-24 18:34:19.000000000 +0200
+++ iptables-1.3.2/iptables-restore.c	2005-07-19 12:17:03.000000000 +0200
@@ -8,7 +8,7 @@
  */
 
 #include <getopt.h>
-#include <sys/errno.h>
+#include <errno.h>
 #include <string.h>
 #include <stdio.h>
 #include <stdlib.h>
diff -ruN iptables-1.3.2.orig/iptables-save.c iptables-1.3.2/iptables-save.c
--- iptables-1.3.2.orig/iptables-save.c	2005-04-15 11:30:16.000000000 +0200
+++ iptables-1.3.2/iptables-save.c	2005-07-19 12:17:03.000000000 +0200
@@ -6,7 +6,7 @@
  *
  */
 #include <getopt.h>
-#include <sys/errno.h>
+#include <errno.h>
 #include <stdio.h>
 #include <fcntl.h>
 #include <stdlib.h>
