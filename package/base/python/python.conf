# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/base/python/python.conf
# ROCK Linux is Copyright (C) 1998 - 2004 Clifford Wolf
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
# 
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

# If this is enabled, the resulting python binary will not run without X11
# and Tcl/Tk. So there is no _tkinter module on default ...
#
enable_tcltk() {
	if [ -f /usr/include/tcl.h -a -f /usr/include/tk.h ] ; then
		echo "Found tcl.h and tk.h: enabling tcltk support"
		{ echo "_tkinter _tkinter.c tkappinit.c -DWITH_APPINIT \\" ;
	          echo "	-L/usr/X11R6/lib -I/usr/X11R6/include \\" ;
	          echo "	-ltk8.4 -ltcl8.4 -lX11" ;
		} >> Modules/Setup.local
	fi
}

runpysetup=0
premake="enable_tcltk"
confopt="$confopt --with-threads"

# We can savely ignore this dependencies.
var_append flistrfilter "|" ".*:	/usr/lib/python.*/site-packages/.*"

