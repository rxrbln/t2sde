--- linux-2.6.20/drivers/video/aty/mach64_ct.c~	2007-02-04 19:44:54.000000000 +0100
+++ linux-2.6.20/drivers/video/aty/mach64_ct.c	2007-03-07 09:48:45.302933832 +0100
@@ -615,6 +615,7 @@
 		 * we switch to sclk. (Daniel Mantione, 13-05-2003)
 		 */
 		for (i=0;i<=0x1ffff;i++);
+			barrier();
 	}
 
 	aty_st_pll_ct(PLL_REF_DIV, pll->ct.pll_ref_div, par);
