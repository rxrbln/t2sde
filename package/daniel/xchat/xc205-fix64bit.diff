# fixes 64bit issues (where a pointer to int was given, instead of gsize).
--- xchat-2.0.5/src/common/server.c	2003-08-11 01:40:15.000000000 +1000
+++ xchat-2.0.6/src/common/server.c	2003-10-07 14:54:26.000000000 +1000
@@ -289,8 +289,8 @@
 		{
 			char *conv_line; /* holds a copy of the original string */
 			int conv_len; /* tells g_convert how much of line to convert */
-			int utf_len;
-			int read_len;
+			gsize utf_len;
+			gsize read_len;
 			GError *err;
 			gboolean retry;
 
--- xchat-2.0.5/src/common/text.c	2003-09-21 20:36:15.000000000 +1000
+++ xchat-2.0.6/src/common/text.c	2003-10-07 15:01:06.000000000 +1000
@@ -446,7 +446,7 @@
 get_stamp_str (char *fmt, time_t tim, char **ret)
 {
 	char dest[128];
-	int len;
+	gsize len;
 
 	len = strftime (dest, sizeof (dest), fmt, localtime (&tim));
 	if (len)
--- xchat-2.0.5/src/fe-gtk/xtext.c	2003-09-18 15:26:52.000000000 +1000
+++ xchat-2.0.6/src/fe-gtk/xtext.c	2003-10-07 14:57:14.000000000 +1000
@@ -2126,6 +2126,7 @@
 	char *stripped;
 	guchar *new_text;
 	int len;
+	gsize glen;
 
 	stripped = gtk_xtext_selection_get_text (xtext, &len);
 	if (!stripped)
@@ -2158,9 +2159,9 @@
 		}
 		break;
 	default:
-		new_text = g_locale_from_utf8 (stripped, len, NULL, &len, NULL);
+		new_text = g_locale_from_utf8 (stripped, len, NULL, &glen, NULL);
 		gtk_selection_data_set (selection_data_ptr, GDK_SELECTION_TYPE_STRING,
-										8, new_text, len);
+										8, new_text, glen);
 		g_free (new_text);
 	}
 
