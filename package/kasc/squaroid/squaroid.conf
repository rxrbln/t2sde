#!/bin/bash
# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
#
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
#
# ROCK Linux: rock-src/package/kasc/squaroid/squaroid.conf
# ROCK Linux is Copyright (C) 1998 - 2003 Clifford Wolf
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
#
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
#
# --- ROCK-COPYRIGHT-NOTE-END ---

bindir=$ROCKCFG_PKG_GAMES_BINDIR
datadir=$ROCKCFG_PKG_GAMES_DATADIR

[ "$ROCKCFG_PKG_SQUAROID_SOUND" == "1" ] && \
  var_append extraconfopt " " "--enable-sound"
[ "$ROCKCFG_PKG_SQUAROID_MYSQL" == "1" ] && \
  var_append extraconfopt " " "--with-mysql"
var_append extraconfopt " " "--with-sound-device=$ROCKCFG_PKG_SQUAROID_SNDDEV"
var_append extraconfopt " " "--enable-ircserver=$ROCKCFG_PKG_SQUAROID_IRCSERV"

# for some reason this doesnt work
#var_append extraconfopt " " "--with-gtk-prefix=$ROCKCFG_PKG_GNOME14_CORE_PREFIX"

squaroid_custmain()
{
  for x in 0.60.3 gfx-0.2 sfx-0.1 ; do
  tar $taropt $archdir/squaroid-$x.tar.bz2
  cd squaroid-$x 
  hook_eval preconf
  eval_config_command $( eval echo $confopt )
  hook_eval premake
  eval "$MAKE $makeopt"
  hook_eval inmake
  eval "$MAKE $makeinstopt"
  hook_eval postmake
  cd .. 
  done
}

custmain=squaroid_custmain

autoextract=0

#  --enable-plugin         enable a plugin

