# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../evidence/evas_api.patch
# Copyright (C) 2006 - 2007 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- T2-COPYRIGHT-NOTE-END ---

diff -Naur evidence/src/gui/efl/engines_orig/e_bg.c evidence/src/gui/efl/engines/e_bg.c
--- evidence/src/gui/efl/engines_orig/e_bg.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/e_bg.c	2007-01-13 21:47:39.000000000 +0100
@@ -356,7 +356,7 @@
            for (l = bl->gradient.colors; l; l = l->next)
            {
               g = (E_Background_Gradient) l->data;
-              evas_object_gradient_color_add(bl->obj, g->r, g->g, g->b, g->a,
+              evas_object_gradient_color_stop_add(bl->obj, g->r, g->g, g->b, g->a,
                                              g->dist);
            }
            evas_object_gradient_angle_set(bl->obj, bl->gradient.angle);
diff -Naur evidence/src/gui/efl/engines_orig/ic_alignbelow.c evidence/src/gui/efl/engines/ic_alignbelow.c
--- evidence/src/gui/efl/engines_orig/ic_alignbelow.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/ic_alignbelow.c	2007-01-13 21:47:39.000000000 +0100
@@ -347,8 +347,8 @@
   long_to_rgb(param->sel_colour,&r,&g,&b);
   o=evas_object_gradient_add(evas);
   evas_object_resize(o,ic->w+4,ic->h+4);
-  evas_object_gradient_color_add(o, r,g,b,       0,                 8);
-  evas_object_gradient_color_add(o, 2*r,2*g,2*b, param->sel_alpha, 16);
+  evas_object_gradient_color_stop_add(o, r,g,b,       0,                 8);
+  evas_object_gradient_color_stop_add(o, 2*r,2*g,2*b, param->sel_alpha, 16);
   evas_object_gradient_angle_set(o,150);
   ICON_EL_PRE(IE_SEL,-1,ic->xo-2,ic->yo-2);
 #else
@@ -364,8 +364,8 @@
   o=evas_object_gradient_add(evas);
   ICON_EL_PRE(IE_KBD,-10,0,0);
   evas_object_resize(o,wt,ht);
-  evas_object_gradient_color_add(o,  2*r,2*g,2*b, param->sel_alpha, 16);
-  evas_object_gradient_color_add(o,  r,g,b,       0,                 8);
+  evas_object_gradient_color_stop_add(o,  2*r,2*g,2*b, param->sel_alpha, 16);
+  evas_object_gradient_color_stop_add(o,  r,g,b,       0,                 8);
   evas_object_gradient_angle_set(o,150);
 
   return el; }
diff -Naur evidence/src/gui/efl/engines_orig/ic_aligntest.c evidence/src/gui/efl/engines/ic_aligntest.c
--- evidence/src/gui/efl/engines_orig/ic_aligntest.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/ic_aligntest.c	2007-01-13 21:47:39.000000000 +0100
@@ -136,8 +136,8 @@
   o=evas_object_gradient_add(evas);
   ICON_EL_PRE(IE_KBD,-10,0,0);
   evas_object_resize(o,icon->w,ht);
-  evas_object_gradient_color_add(o,  0,103,127,  0,  8);
-  evas_object_gradient_color_add(o,  0,206,255, 63, 16);
+  evas_object_gradient_color_stop_add(o,  0,103,127,  0,  8);
+  evas_object_gradient_color_stop_add(o,  0,206,255, 63, 16);
   evas_object_gradient_angle_set(o,150);
 #endif
 
diff -Naur evidence/src/gui/efl/engines_orig/ic_nautilus.c evidence/src/gui/efl/engines/ic_nautilus.c
--- evidence/src/gui/efl/engines_orig/ic_nautilus.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/ic_nautilus.c	2007-01-13 21:47:39.000000000 +0100
@@ -337,8 +337,8 @@
       o=evas_object_gradient_add(evas);
       ICON_EL_ADD(IE_KBD,-10,0,0);
       evas_object_resize(o,icon->w,ht);
-      evas_object_gradient_color_add(o,  0,103,127,  0,  8);
-      evas_object_gradient_color_add(o,  0,206,255, 63, 16);
+      evas_object_gradient_color_stop_add(o,  0,103,127,  0,  8);
+      evas_object_gradient_color_stop_add(o,  0,206,255, 63, 16);
       evas_object_gradient_angle_set(o,150);
       el->tag=ET_KEYED_IMAGE;
 
diff -Naur evidence/src/gui/efl/engines_orig/ix_rephormed.c evidence/src/gui/efl/engines/ix_rephormed.c
--- evidence/src/gui/efl/engines_orig/ix_rephormed.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/ix_rephormed.c	2007-01-13 21:47:39.000000000 +0100
@@ -602,8 +602,8 @@
 
     if(fr!=fi) {  /* draw box */
       o=evas_object_gradient_add(evas);
-      evas_object_gradient_color_add(o, col-GRAD,col-GRAD,col-GRAD, param->textpath_alpha, h);
-      evas_object_gradient_color_add(o, col+GRAD,col+GRAD,col+GRAD, param->textpath_alpha, h);
+      evas_object_gradient_color_stop_add(o, col-GRAD,col-GRAD,col-GRAD, param->textpath_alpha, h);
+      evas_object_gradient_color_stop_add(o, col+GRAD,col+GRAD,col+GRAD, param->textpath_alpha, h);
       evas_object_gradient_angle_set(o,0);
       evas_object_resize(o,w,h);
       ICON_EL_PRE(IE_DFL,90,x1,0);
@@ -619,8 +619,8 @@
 
       /* gradient for square part */
       o=evas_object_gradient_add(evas);
-      evas_object_gradient_color_add(o, col-GRAD,col-GRAD,col-GRAD, param->textpath_alpha, h);
-      evas_object_gradient_color_add(o, col+GRAD,col+GRAD,col+GRAD, param->textpath_alpha, h);
+      evas_object_gradient_color_stop_add(o, col-GRAD,col-GRAD,col-GRAD, param->textpath_alpha, h);
+      evas_object_gradient_color_stop_add(o, col+GRAD,col+GRAD,col+GRAD, param->textpath_alpha, h);
       evas_object_gradient_angle_set(o,0);
       evas_object_resize(o,w-corner,h);
       ICON_EL_PRE(IE_DFL,95,x1,0);
diff -Naur evidence/src/gui/efl/engines_orig/rb_edb.c evidence/src/gui/efl/engines/rb_edb.c
--- evidence/src/gui/efl/engines_orig/rb_edb.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/rb_edb.c	2007-01-13 21:47:39.000000000 +0100
@@ -35,8 +35,8 @@
     evas_object_resize(o,1,1);
     evas_object_show(o);
 
-    evas_object_gradient_color_add(o,100,100,100, 45,  8);
-    evas_object_gradient_color_add(o,240,240,240,150, 16);
+    evas_object_gradient_color_stop_add(o,100,100,100, 45,  8);
+    evas_object_gradient_color_stop_add(o,240,240,240,150, 16);
     evas_object_gradient_angle_set(o,150);
 
     evas_object_layer_set(o,-10); }
diff -Naur evidence/src/gui/efl/engines_orig/rb_gradient.c evidence/src/gui/efl/engines/rb_gradient.c
--- evidence/src/gui/efl/engines_orig/rb_gradient.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/rb_gradient.c	2007-01-13 21:47:39.000000000 +0100
@@ -37,8 +37,8 @@
     evas_object_resize(o,1,1);
     evas_object_show(o);
 
-    evas_object_gradient_color_add(o,100,100,100, 45,  8);
-    evas_object_gradient_color_add(o,240,240,240,150, 16);
+    evas_object_gradient_color_stop_add(o,100,100,100, 45,  8);
+    evas_object_gradient_color_stop_add(o,240,240,240,150, 16);
     evas_object_gradient_angle_set(o,150);
 
     evas_object_layer_set(o,-10); }
diff -Naur evidence/src/gui/efl/engines_orig/rb_gradient2.c evidence/src/gui/efl/engines/rb_gradient2.c
--- evidence/src/gui/efl/engines_orig/rb_gradient2.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/rb_gradient2.c	2007-01-13 21:47:39.000000000 +0100
@@ -62,8 +62,8 @@
   for(i=SL_TOP;i<=SL_LEFT;i++) {
     o=evas_object_gradient_add(evas);   /* grad */
     evas_object_gradient_angle_set(o,(i-SL_TOP)*90);
-    evas_object_gradient_color_add(o, 255,255,255, 100, 8);
-    evas_object_gradient_color_add(o, 255,255,255,   0, 8);
+    evas_object_gradient_color_stop_add(o, 255,255,255, 100, 8);
+    evas_object_gradient_color_stop_add(o, 255,255,255,   0, 8);
     evas_object_layer_set(o,300);
     evas_object_clip_set(o,c);
     ICON_EL_PRE((i|SL_GRAD),0,0,0); }
diff -Naur evidence/src/gui/efl/engines_orig/sb_default.c evidence/src/gui/efl/engines/sb_default.c
--- evidence/src/gui/efl/engines_orig/sb_default.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/sb_default.c	2007-01-13 21:47:39.000000000 +0100
@@ -159,8 +159,8 @@
     icon_dst(icon);
     return NULL; }
   evas_object_resize(o,32,1);
-  evas_object_gradient_color_add(o,200,200,200,param->trough_alpha,  8);
-  evas_object_gradient_color_add(o,120,120,120,param->trough_alpha, 16);
+  evas_object_gradient_color_stop_add(o,200,200,200,param->trough_alpha,  8);
+  evas_object_gradient_color_stop_add(o,120,120,120,param->trough_alpha, 16);
   evas_object_gradient_angle_set(o,45);
   ICON_EL_PRE(IE_TRO,100,0,0);
 
@@ -173,8 +173,8 @@
 
   o=evas_object_gradient_add(evas);  /* bar */
   evas_object_resize(o,1,1);
-  evas_object_gradient_color_add(o,200,200,200,param->bar_alpha,  8);
-  evas_object_gradient_color_add(o,120,120,120,param->bar_alpha, 16);
+  evas_object_gradient_color_stop_add(o,200,200,200,param->bar_alpha,  8);
+  evas_object_gradient_color_stop_add(o,120,120,120,param->bar_alpha, 16);
   evas_object_gradient_angle_set(o,45);
   ICON_EL_PRE(IE_BAR,200,1,0);
 
diff -Naur evidence/src/gui/efl/engines_orig/sb_example.c evidence/src/gui/efl/engines/sb_example.c
--- evidence/src/gui/efl/engines_orig/sb_example.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/sb_example.c	2007-01-13 21:47:39.000000000 +0100
@@ -44,8 +44,8 @@
 
   o=evas_object_gradient_add(evas);  /* trough */
   evas_object_resize(o,0,0);
-  evas_object_gradient_color_add(o,240,240,240, 45,  8);
-  evas_object_gradient_color_add(o,200,200,200, 45, 16);
+  evas_object_gradient_color_stop_add(o,240,240,240, 45,  8);
+  evas_object_gradient_color_stop_add(o,200,200,200, 45, 16);
   evas_object_gradient_angle_set(o,150);
   ICON_EL_PRE(IE_TRO,-10,0,0);
 
@@ -53,22 +53,22 @@
 
   o=evas_object_gradient_add(evas);  /* bar */
   evas_object_resize(o,5,5);
-  evas_object_gradient_color_add(o,200,200,200,128,  8);
-  evas_object_gradient_color_add(o,120,120,120,128, 16);
+  evas_object_gradient_color_stop_add(o,200,200,200,128,  8);
+  evas_object_gradient_color_stop_add(o,120,120,120,128, 16);
   evas_object_gradient_angle_set(o,45);
   ICON_EL_PRE(IE_BAR,10,5,5);
 
   o=evas_object_gradient_add(evas);  /* bar */
   evas_object_resize(o,16,16);
-  evas_object_gradient_color_add(o,200,200,200,128,  8);
-  evas_object_gradient_color_add(o,120,120,120,128, 24);
+  evas_object_gradient_color_stop_add(o,200,200,200,128,  8);
+  evas_object_gradient_color_stop_add(o,120,120,120,128, 24);
   evas_object_gradient_angle_set(o,315);
   ICON_EL_PRE((IE_BAR|IE_ABS),10,3,3);
 
   o=evas_object_gradient_add(evas);  /* bar */
   evas_object_resize(o,8,8);
-  evas_object_gradient_color_add(o,200,200,200,128,  8);
-  evas_object_gradient_color_add(o,120,120,120,128, 24);
+  evas_object_gradient_color_stop_add(o,200,200,200,128,  8);
+  evas_object_gradient_color_stop_add(o,120,120,120,128, 24);
   evas_object_gradient_angle_set(o,45);
   ICON_EL_PRE((IE_BAR|IE_ABS),10,0,0);
 
diff -Naur evidence/src/gui/efl/engines_orig/tt_centre.c evidence/src/gui/efl/engines/tt_centre.c
--- evidence/src/gui/efl/engines_orig/tt_centre.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/tt_centre.c	2007-01-13 21:47:39.000000000 +0100
@@ -224,9 +224,9 @@
   frame_new(evas,icon,el,_x,_y,_x+wt+fs,_y+ht*c);
 
   for(c=0;c<8;c+=2) {   /* do the fade-in */
-    evas_object_gradient_colors_clear(fade);
-    evas_object_gradient_color_add(fade,255,255,255, c*4,     63);
-    evas_object_gradient_color_add(fade,255,255,255, 63+c*32,  7);
+    evas_object_gradient_clear(fade);
+    evas_object_gradient_color_stop_add(fade,255,255,255, c*4,     63);
+    evas_object_gradient_color_stop_add(fade,255,255,255, 63+c*32,  7);
     evas_render(evas); }
 
   if((_x+=(fs/2))<8)
diff -Naur evidence/src/gui/efl/engines_orig/tt_diagram.c evidence/src/gui/efl/engines/tt_diagram.c
--- evidence/src/gui/efl/engines_orig/tt_diagram.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/tt_diagram.c	2007-01-13 21:47:39.000000000 +0100
@@ -509,7 +509,7 @@
 
   icon->els=el;
 
-  evas_object_gradient_colors_clear(o);
+  evas_object_gradient_clear(o);
 
 
 
@@ -525,8 +525,8 @@
     (o2=evas_thumbnail_dead(&t,evas,fi))
 #endif
     ) {
-    evas_object_gradient_color_add(o,255-COL,255-COL,255-COL, 79,  63);
-    evas_object_gradient_color_add(o,255-COL,255-COL,255-COL, 139,  7);
+    evas_object_gradient_color_stop_add(o,255-COL,255-COL,255-COL, 79,  63);
+    evas_object_gradient_color_stop_add(o,255-COL,255-COL,255-COL, 139,  7);
     evas_render(evas);
 
     o=o2;
@@ -537,8 +537,8 @@
     evas_object_show(o); }
   else
 #endif
-  { evas_object_gradient_color_add(o,255-COL,255-COL,255-COL, 159, 63);
-    evas_object_gradient_color_add(o,255-COL,255-COL,255-COL, 223,  7);
+  { evas_object_gradient_color_stop_add(o,255-COL,255-COL,255-COL, 159, 63);
+    evas_object_gradient_color_stop_add(o,255-COL,255-COL,255-COL, 223,  7);
     evas_render(evas); }
 
 
diff -Naur evidence/src/gui/efl/engines_orig/tt_traditional.c evidence/src/gui/efl/engines/tt_traditional.c
--- evidence/src/gui/efl/engines_orig/tt_traditional.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/tt_traditional.c	2007-01-13 21:47:39.000000000 +0100
@@ -243,17 +243,17 @@
   /* do the fade-in */
   if(!thumb) {
     for(c=0;c<8;c+=2) {
-      evas_object_gradient_colors_clear(fade);
-      evas_object_gradient_color_add(fade,255,255,255, c*4,     63); /* c*4 */
-      evas_object_gradient_color_add(fade,255,255,255, 63+c*32,  7); /* 31+c*32 */
+      evas_object_gradient_clear(fade);
+      evas_object_gradient_color_stop_add(fade,255,255,255, c*4,     63); /* c*4 */
+      evas_object_gradient_color_stop_add(fade,255,255,255, 63+c*32,  7); /* 31+c*32 */
       evas_render(evas); }}
   else {
     double d=1;
     double s=(thumb_w>thumb_h)?thumb_w:thumb_h;
     double xs=thumb_w/s,ys=thumb_h/s,xc=0,yc=0;
-    evas_object_gradient_colors_clear(fade);
-    evas_object_gradient_color_add(fade,255,255,255,  24,  63);
-    evas_object_gradient_color_add(fade,255,255,255, 255,  7);
+    evas_object_gradient_clear(fade);
+    evas_object_gradient_color_stop_add(fade,255,255,255,  24,  63);
+    evas_object_gradient_color_stop_add(fade,255,255,255, 255,  7);
     evas_object_hide(fade);
     for(c=0;d>0;c+=d) {
       d*=1.2;
diff -Naur evidence/src/gui/efl/engines_orig/tt_wholewindow.c evidence/src/gui/efl/engines/tt_wholewindow.c
--- evidence/src/gui/efl/engines_orig/tt_wholewindow.c	2007-01-13 21:28:26.000000000 +0100
+++ evidence/src/gui/efl/engines/tt_wholewindow.c	2007-01-13 21:47:39.000000000 +0100
@@ -111,9 +111,9 @@
   icon->els=el;
 
   for(c=0;c<8;c+=2) {
-    evas_object_gradient_colors_clear(o);
-    evas_object_gradient_color_add(o,255,255,255, c*4,     63);
-    evas_object_gradient_color_add(o,255,255,255, 31+c*32,  7);
+    evas_object_gradient_clear(o);
+    evas_object_gradient_color_stop_add(o,255,255,255, c*4,     63);
+    evas_object_gradient_color_stop_add(o,255,255,255, 31+c*32,  7);
     evas_render(evas); }
 
   if(file_info_get_thumbfile(fi)) {
--- evidence/src/gui/gtk2/common/tooltip.c_orig	2006-11-05 15:54:34.053006000 +0100
+++ evidence/src/gui/gtk2/common/tooltip.c	2006-11-05 16:00:25.674981000 +0100
@@ -197,9 +197,9 @@
   if(e) {
     o=(Evas_Object *)e->data;         /* fade out */
     for(c=7;c>=0;c-=2) {
-      evas_object_gradient_colors_clear(o);
-      evas_object_gradient_color_add(o,255,255,255, c*4,     63);
-      evas_object_gradient_color_add(o,255,255,255, 31+c*32,  7);
+      evas_object_gradient_clear(o);
+      evas_object_gradient_color_stop_add(o,255,255,255, c*4,     63);
+      evas_object_gradient_color_stop_add(o,255,255,255, 31+c*32,  7);
       evas_render(evas); }}
   else
     E(1,"evas_motioned: no gradient in tooltip, skipping fade-out sequence...\n");
