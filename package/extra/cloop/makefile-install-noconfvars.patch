--- ./Makefile.orig	2004-05-08 15:39:45.882594296 +0200
+++ ./Makefile	2004-05-08 16:25:36.674410376 +0200
@@ -6,7 +6,6 @@
 CFLAGS:=-Wall -Wstrict-prototypes -Wno-trigraphs -O2 -s -I. -fno-strict-aliasing -fno-common -fomit-frame-pointer 
 else
 include $(KERNEL_DIR)/.config
-include $(KERNEL_DIR)/conf.vars
 endif
 
 CKERNOPS:=-D__KERNEL__ -DMODULE -fno-builtin -nostdlib -DKBUILD_MODNAME="cloop" -DKBUILD_BASENAME="cloop"
@@ -50,3 +49,9 @@
 	$(CC) -I$(KERNEL_DIR)/include -I$(KERNEL_DIR)/include/asm/mach-default $(CFLAGS) $(CKERNOPS) $< -c -o $@
 
 compressed_loop.o create_compressed_fs.o: compressed_loop.h
+
+install:
+	mkdir -p $(MODDIR)
+	install -m 755 cloop.o $(MODDIR)
+	install -m 755 create_compressed_fs $(PREFIX)/sbin
+	install -m 755 extract_compressed_fs $(PREFIX)/sbin
