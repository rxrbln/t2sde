# --- T2-COPYRIGHT-BEGIN ---
# t2/package/*/ghc/hotfix.patch
# Copyright (C) 2025 The T2 SDE Project
# SPDX-License-Identifier: GPL-2.0 or patched project license
# --- T2-COPYRIGHT-END ---

--- ghc-9.10.3/configure.vanilla	2025-09-28 18:33:38.065114292 -0400
+++ ghc-9.10.3/configure	2025-09-28 18:33:52.271115051 -0400
@@ -4678,15 +4678,6 @@
  fi
 
 
-# Verify that the installed (bootstrap) GHC is capable of generating
-# code for the requested build platform.
-if test "$BuildPlatform" != "$bootstrap_target"
-then
-    echo "This GHC (${WithGhc}) does not generate code for the build platform"
-    echo "   GHC target platform    : $bootstrap_target"
-    echo "   Desired build platform : $BuildPlatform"
-    exit 1
-fi
 
 
 
--- ghc-9.10.3/hadrian/hadrian.cabal.vanilla	2025-09-28 18:47:04.415491857 -0400
+++ ghc-9.10.3/hadrian/hadrian.cabal	2025-09-28 18:47:10.519157682 -0400
@@ -27,7 +27,7 @@
 -- See also #21913
 flag selftest
      manual:             True
-     default:            True
+     default:            False
      description:        Enables the hadrian selftest rules which require
                          QuickCheck. Disabling it thus saves on a few dependencies
                          which can be problematic when bootstrapping.
