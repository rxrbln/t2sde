
without HAVE_LSTAT cpio will always dereference symlinks
 - Alejandro

patch configure so the long autoconf cycle is not needed and
do not regenrate the other .in files we patch ...
 - Rene

#--- ./configure.ac.orig	2006-06-25 15:58:15.000000000 +0200
#+++ ./configure.ac	2006-06-25 15:57:56.000000000 +0200
#@@ -92,7 +92,7 @@
#   AC_CONFIG_LINKS(src/fnmatch.h:headers/fnmatch.h)
# fi
# 
#-AC_CHECK_FUNCS(lchown endpwent endgrent)
#+AC_CHECK_FUNCS(lchown endpwent endgrent lstat)
# AC_FUNC_VPRINTF
# AC_FUNC_ALLOCA
# AC_CHECK_LIB(nsl, gethostname, [LIBS="$LIBS -lnsl"])
--- cpio-2.6/configure	2004-12-20 10:51:38.000000000 +0000
+++ cpio-2.6-fixed/configure	2006-07-03 14:55:01.000000000 +0000
@@ -12838,7 +12838,8 @@
 
 
 
-for ac_func in lchown endpwent endgrent
+
+for ac_func in lchown endpwent endgrent lstat
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
 echo "$as_me:$LINENO: checking for $ac_func" >&5
