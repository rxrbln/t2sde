# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../lirc/disable-portaudio.patch
# Copyright (C) 2007 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- T2-COPYRIGHT-NOTE-END ---


The audio hw driver - using the PortAudio library - is 
incompatible with the latest PortAudio API.

    mtr <michael@tross.org>

--- ./configure.orig	2006-12-29 12:36:11.000000000 +0100
+++ ./configure	2007-01-02 21:46:35.000000000 +0100
@@ -23545,7 +23545,7 @@
 fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_portaudio_Pa_Initialize" >&5
 echo "${ECHO_T}$ac_cv_lib_portaudio_Pa_Initialize" >&6
-if test $ac_cv_lib_portaudio_Pa_Initialize = yes; then
+if test $ac_cv_lib_portaudio_Pa_Initialize = yesDISABLED; then
 
     cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBPORTAUDIO 1
@@ -24371,8 +24371,9 @@
 		CFLAGS="$CFLAGS `${LIBUSB_CONFIG} --cflags`"
 		;;
 	audio)
-		hw_module="${hw_module} hw_audio.o receive.o"
-		portaudio_lib="-lportaudio ${portaudio_lib_other}"
+		# hw_audio.c is incompatible with current PortAudio snapshot
+		#hw_module="${hw_module} hw_audio.o receive.o"
+		#portaudio_lib="-lportaudio ${portaudio_lib_other}"
 		;;
 	audio_alsa)
 		hw_module="${hw_module} hw_audio_alsa.o receive.o"
