# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../id3lib/gcc43.patch
# Copyright (C) 2008 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- T2-COPYRIGHT-NOTE-END ---

diff -ur id3lib-3.8.3/configure id3lib-3.8.3.new/configure
--- id3lib-3.8.3/configure	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/configure	2008-04-28 20:19:32.000000000 +0100
@@ -10296,7 +10296,7 @@
 
 for ac_header in \
   string                        \
-  iomanip.h                     \
+  iomanip                       \
 
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
diff -ur id3lib-3.8.3/examples/demo_convert.cpp id3lib-3.8.3.new/examples/demo_convert.cpp
--- id3lib-3.8.3/examples/demo_convert.cpp	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/examples/demo_convert.cpp	2008-04-28 20:16:12.000000000 +0100
@@ -84,7 +84,7 @@
   }
 }
 
-int main( unsigned int argc, char * const argv[])
+int main( int argc, char * const argv[])
 {
   flags_t ulFlag = ID3TT_ALL;
   gengetopt_args_info args;
diff -ur id3lib-3.8.3/examples/demo_copy.cpp id3lib-3.8.3.new/examples/demo_copy.cpp
--- id3lib-3.8.3/examples/demo_copy.cpp	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/examples/demo_copy.cpp	2008-04-28 20:16:12.000000000 +0100
@@ -81,7 +81,7 @@
   }
 }
 
-int main( unsigned int argc, char * const argv[])
+int main( int argc, char * const argv[])
 {
   int ulFlag = ID3TT_ID3;
   ID3D_INIT_DOUT();
diff -ur id3lib-3.8.3/examples/demo_info.cpp id3lib-3.8.3.new/examples/demo_info.cpp
--- id3lib-3.8.3/examples/demo_info.cpp	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/examples/demo_info.cpp	2008-04-28 20:16:12.000000000 +0100
@@ -309,7 +309,7 @@
 
 #define DEBUG
 
-int main( unsigned int argc, char * const argv[])
+int main( int argc, char * const argv[])
 {
   ID3D_INIT_DOUT();
 
diff -ur id3lib-3.8.3/examples/demo_tag.cpp id3lib-3.8.3.new/examples/demo_tag.cpp
--- id3lib-3.8.3/examples/demo_tag.cpp	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/examples/demo_tag.cpp	2008-04-28 20:16:12.000000000 +0100
@@ -46,7 +46,7 @@
     os << "v2";
 }
 
-int main( unsigned int argc, char * const argv[])
+int main( int argc, char * const argv[])
 {
   int ulFlag = ID3TT_ID3;
   ID3D_INIT_DOUT();
diff -ur id3lib-3.8.3/include/id3/id3lib_strings.h id3lib-3.8.3.new/include/id3/id3lib_strings.h
--- id3lib-3.8.3/include/id3/id3lib_strings.h	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/include/id3/id3lib_strings.h	2008-04-28 20:15:32.000000000 +0100
@@ -30,6 +30,7 @@
 #define _ID3LIB_STRINGS_H_
 
 #include <string>
+#include <cstring>
 
 #if (defined(__GNUC__) && (__GNUC__ >= 3) || (defined(_MSC_VER) && _MSC_VER > 1000))
 namespace std
diff -ur id3lib-3.8.3/include/id3/writers.h id3lib-3.8.3.new/include/id3/writers.h
--- id3lib-3.8.3/include/id3/writers.h	2003-03-02 00:23:00.000000000 +0000
+++ id3lib-3.8.3.new/include/id3/writers.h	2008-04-28 20:15:32.000000000 +0100
@@ -30,7 +30,7 @@
 
 #include "id3/writer.h"
 #include "id3/id3lib_streams.h"
-//#include <string.h>
+#include <cstring>
 
 class ID3_CPP_EXPORT ID3_OStreamWriter : public ID3_Writer
 {
