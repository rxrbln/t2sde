# --- T2-COPYRIGHT-BEGIN ---
# t2/package/*/binutils/muslx32.patch
# Copyright (C) 2021 - 2026 The T2 SDE Project
# SPDX-License-Identifier: GPL-2.0 or patched project license
# --- T2-COPYRIGHT-END ---

--- binutils-with-gold-2.46/ld/configure.tgt.orig	2026-02-08 01:00:00.000000000 +0100
+++ binutils-with-gold-2.46/ld/configure.tgt	2026-02-08 18:48:07.288272102 +0100
@@ -954,6 +954,6 @@
 			;;
-x86_64-*-linux-gnux32)	targ_emul=elf32_x86_64
+x86_64-*-linux-*x32)	targ_emul=elf32_x86_64
 			targ_extra_libpath="elf_i386 elf_iamcu elf_x86_64"
-			tdir_elf_iamcu=`echo ${targ_alias} | sed -e 's/x86_64/i386/' -e 's/-linux-gnux32/-linux-gnu/'`
-			tdir_elf_i386=`echo ${targ_alias} | sed -e 's/x86_64/i386/' -e 's/-linux-gnux32/-linux-gnu/'`
+			tdir_elf_iamcu=`echo ${targ_alias} | sed -e 's/x86_64/i386/' -e 's/x32//'`
+			tdir_elf_i386=`echo ${targ_alias} | sed -e 's/x86_64/i386/' -e 's/x32//'`
 			;;
--- binutils-2.37/gas/configure.tgt.vanilla	2021-10-18 14:49:18.207289232 +0200
+++ binutils-2.37/gas/configure.tgt	2021-10-18 14:49:49.502290847 +0200
@@ -231,7 +231,7 @@
   i386-*-openbsd*)			fmt=elf em=nbsd ;;
   i386-*-linux-*)			fmt=elf em=linux
     case ${cpu}-${os} in
-      x86_64*-linux-gnux32)		arch=x86_64:32 ;;
+      x86_64*-linux-*x32)		arch=x86_64:32 ;;
     esac ;;
   i386-*-lynxos*)			fmt=elf em=lynx ;;
   i386-*-redox*)			fmt=elf ;;
