# --- T2-COPYRIGHT-NOTE-BEGIN ---
# T2 SDE: package/*/bacon_runtime/bacon_runtime.conf
# Copyright (C) 2021 The T2 SDE Project
# 
# This Copyright note is generated by scripts/Create-CopyPatch,
# more information can be found in the files COPYING and README.
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 2.
# --- T2-COPYRIGHT-NOTE-END ---

function build_bacon_runtime {
    mkdir temp1
    bacon -d temp1 -f hug.bac -o '-fPIC'
    cp -a -f temp1/hug.so $root/usr/lib/
    mkdir -p $root/usr/share/BaCon
    cp -a -f bacon.lang $root/usr/share/BaCon/
    cp -a -f bacon.vim $root/usr/share/BaCon/
    cp -a -f gdk.bac $root/usr/share/BaCon/
    cp -a -f gtk.bac $root/usr/share/BaCon/
    cp -a -f hug.bac $root/usr/share/BaCon/
    sed -i -e 's%"\./hug\.so"%"/usr/lib/hug.so"%' hug_imports.bac
    cp -a -f hug_imports.bac $root/usr/share/BaCon/
    mkdir -p $root/usr/share/doc/BaCon
    cp -a -f CHANGES $root/usr/share/doc/BaCon/
    cp -a -f documentation.html $root/usr/share/doc/BaCon/
    cp -a -f gtk.txt $root/usr/share/doc/BaCon/
    cp -a -f hugdoc.html $root/usr/share/doc/BaCon/
}
custmain=build_bacon_runtime
