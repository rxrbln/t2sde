# --- T2-COPYRIGHT-NOTE-BEGIN ---
# T2 SDE: package/*/gcc/without-cross-host.patch
# Copyright (C) 2007 - 2021 The T2 SDE Project
# 
# This Copyright note is generated by scripts/Create-CopyPatch,
# more information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License version 2 as used by the T2 SDE.
# --- T2-COPYRIGHT-NOTE-END ---

--- gcc-4.3.1/gcc/configure.vanilla	2008-07-18 17:07:44.000000000 +0200
+++ gcc-4.3.1/gcc/configure	2008-07-18 17:30:02.000000000 +0200
@@ -1686,13 +1686,10 @@
 # This logic must match libstdc++-v3/acinclude.m4:GLIBCXX_EXPORT_INSTALL_INFO.
 if test x${gcc_gxx_include_dir} = x; then
   if test x${enable_version_specific_runtime_libs} = xyes; then
-    gcc_gxx_include_dir='${libsubdir}/include/c++'
+    gcc_gxx_include_dir='${CROSS_SYSTEM_HEADER_DIR}/c++'
   else
-    libstdcxx_incdir='include/c++/$(version)'
-    if test x$host != x$target; then
-       libstdcxx_incdir="$target_alias/$libstdcxx_incdir"
-    fi
-    gcc_gxx_include_dir="\$(libsubdir)/\$(libsubdir_to_prefix)$libstdcxx_incdir"
+    libstdcxx_incdir='c++/$(version)'
+    gcc_gxx_include_dir="\$(CROSS_SYSTEM_HEADER_DIR)/"${libstdcxx_incdir}
   fi
 fi
 
--- gcc-11.2.0/configure.vanilla	2021-12-16 12:15:14.176984665 +0100
+++ gcc-11.2.0/configure	2021-12-16 12:15:26.237983946 +0100
@@ -9680,7 +9680,7 @@
 # sorts of decisions they want to make on this basis.  Please consider
 # this option to be deprecated.  FIXME.
 if test x${is_cross_compiler} = xyes ; then
-  target_configargs="--with-cross-host=${host_noncanonical} ${target_configargs}"
+  target_configargs="${target_configargs}"
 fi
 
 # Special user-friendly check for native x86_64-linux build, if
--- gcc-11.2.0/libstdc++-v3/configure.vanilla	2021-12-17 12:59:04.313678055 +0100
+++ gcc-11.2.0/libstdc++-v3/configure	2021-12-17 13:00:12.862673969 +0100
@@ -77884,12 +77884,12 @@
 
   # Default case for install directory for include files.
   if test $version_specific_libs = no && test $gxx_include_dir = no; then
-    gxx_include_dir='include/c++/${gcc_version}'
+    gxx_include_dir='c++/${gcc_version}'
     if test -n "$with_cross_host" &&
        test x"$with_cross_host" != x"no"; then
       gxx_include_dir='${prefix}/${target_alias}/'"$gxx_include_dir"
     else
-      gxx_include_dir='${prefix}/'"$gxx_include_dir"
+      gxx_include_dir='${includedir}/'"$gxx_include_dir"
     fi
   fi
 
