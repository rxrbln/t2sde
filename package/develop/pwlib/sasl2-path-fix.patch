# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../pwlib/sasl2-path-fix.patch
# Copyright (C) 2004 - 2006 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- T2-COPYRIGHT-NOTE-END ---
--- pwlib_v1_9_1.orig/configure	2005-08-06 23:06:09.443900816 +0200
+++ pwlib_v1_9_1/configure	2005-08-06 23:07:34.152023224 +0200
@@ -5576,10 +5576,10 @@
 else
   echo "$as_me:$LINENO: result: no" >&5
 echo "${ECHO_T}no" >&6
-  echo "$as_me:$LINENO: checking if <sasl/sasl.h> works" >&5
-echo $ECHO_N "checking if <sasl/sasl.h> works... $ECHO_C" >&6
+  echo "$as_me:$LINENO: checking if <sasl2/sasl.h> works" >&5
+echo $ECHO_N "checking if <sasl2/sasl.h> works... $ECHO_C" >&6
   cat >conftest.$ac_ext <<_ACEOF
-#include <sasl/sasl.h>
+#include <sasl2/sasl.h>
   int main(int argc,char **argv){ int v = SASL_LOG_PASS; }
 _ACEOF
 rm -f conftest.$ac_objext
diff -ur pwlib_v1_9_1.orig/configure.ac pwlib_v1_9_1/configure.ac
--- pwlib_v1_9_1.orig/configure.ac	2005-08-06 23:06:09.444900664 +0200
+++ pwlib_v1_9_1/configure.ac	2005-08-06 23:08:31.128361504 +0200
@@ -890,8 +890,8 @@
   SASL_INCLUDED=1
 else
   AC_MSG_RESULT(no)
-  AC_MSG_CHECKING([if <sasl/sasl.h> works])
-  AC_COMPILE_IFELSE([[#include <sasl/sasl.h>
+  AC_MSG_CHECKING([if <sasl2/sasl.h> works])
+  AC_COMPILE_IFELSE([[#include <sasl2/sasl.h>
   int main(int argc,char **argv){ int v = SASL_LOG_PASS; }]],P_HAS_SASL_SASL_H=1)
   if test "${P_HAS_SASL_SASL_H}x" != "x" ; then
     AC_MSG_RESULT(yes)
diff -ur pwlib_v1_9_1.orig/include/ptbuildopts.h.in pwlib_v1_9_1/include/ptbuildopts.h.in
--- pwlib_v1_9_1.orig/include/ptbuildopts.h.in	2005-08-06 23:06:09.386909480 +0200
+++ pwlib_v1_9_1/include/ptbuildopts.h.in	2005-08-06 23:09:52.316019104 +0200
@@ -392,7 +392,7 @@
 
 #if defined(_MSC_VER) && (defined(P_SASL) || defined(P_SASL2))
 
-#pragma include_alias(<sasl/sasl.h>, <@SASL_DIR@/include/sasl.h>)
+#pragma include_alias(<sasl2/sasl.h>, <@SASL_DIR@/include/sasl.h>)
 
 #define P_SASL_LIBRARY "@SASL_DIR@/lib/libsasl.lib"
 #define P_HAS_SASL_SASL_H 1
diff -ur pwlib_v1_9_1.orig/src/ptclib/psasl.cxx pwlib_v1_9_1/src/ptclib/psasl.cxx
--- pwlib_v1_9_1.orig/src/ptclib/psasl.cxx	2005-08-06 23:06:09.395908112 +0200
+++ pwlib_v1_9_1/src/ptclib/psasl.cxx	2005-08-06 23:09:39.033038424 +0200
@@ -58,7 +58,7 @@
 extern "C" {
 
 #if P_HAS_SASL_SASL_H
-#include <sasl/sasl.h>
+#include <sasl2/sasl.h>
 #else
 #include <sasl.h>
 #endif
