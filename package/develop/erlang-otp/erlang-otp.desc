[COPY] --- T2-COPYRIGHT-BEGIN ---
[COPY] t2/package/*/erlang-otp/erlang-otp.desc
[COPY] Copyright (C) 2004 - 2025 The T2 SDE Project
[COPY] SPDX-License-Identifier: GPL-2.0
[COPY] --- T2-COPYRIGHT-END ---

[I] A general-purpose programming language and runtime environment

[T] OTP is a large collection of libraries for Erlang to do everything from
[T] compiling ASN.1 to providing a WWW server. Most projects using "Erlang" are
[T] actually using "Erlang/OTP", i.e. the language and the libraries. OTP is
[T] also open source.

[U] https://www.erlang.org/

[A] Ericsson
[M] Sebastian Czech <t2_@arcor.de>

[C] extra/development
[F] CROSS

[L] OpenSource
[S] Stable
[V] 28.1.1

[D] 7f7e78f0176e95f2f92d8118e123ff660320c3cded744a73f63381d4 otp_src_28.1.1.tar.gz https://github.com/erlang/otp/releases/download/OTP-28.1.1/
[D] 58b1eb00f6b3cc13f288836ccd7de6a4c7807f4ffe0fe94a92ca78a6 otp_doc_man_28.1.1.tar.gz https://github.com/erlang/otp/releases/download/OTP-28.1.1/

var_append confopt ' ' "--enable-smp-support --without-javac"
pkginstalled openssl && var_append confopt ' ' --with-ssl

if atstage "cross"; then
export erl_xcomp_sysroot=$root
export ac_cv_func_isnan=yes
export ac_cv_func_isinf=yes
fi

LD="$CXX"

install_manpages() {
    tar $taropt `match_source_file -p otp_doc_man_` -C $root$libdir/erlang/
}

hook_add postinstall 3 "install_manpages"
