[COPY] --- T2-COPYRIGHT-BEGIN ---
[COPY] t2/package/*/erlang-otp/erlang-otp.desc
[COPY] Copyright (C) 2004 - 2025 The T2 SDE Project
[COPY] SPDX-License-Identifier: GPL-2.0
[COPY] --- T2-COPYRIGHT-END ---

[I] A general-purpose programming language and runtime environment

[T] OTP is a large collection of libraries for Erlang to do everything from
[T] compiling ASN.1 to providing a WWW server. Most projects using "Erlang" are
[T] actually using "Erlang/OTP", i.e. the language and the libraries. OTP is
[T] also open source.

[U] https://www.erlang.org/

[A] Ericsson
[M] Sebastian Czech <t2_@arcor.de>

[C] extra/development
[F] NOPARALLEL CROSS

[L] OpenSource
[S] Stable
[V] 28.1

[D] e33ff0601dffc0df1bc6d2213cd40f6231841900984d88a847cf77ff otp_src_28.1.tar.gz https://github.com/erlang/otp/releases/download/OTP-28.1/
[D] edc9d1c84d51cfe254ce83c69415c5a37a756ec862111d207bf43eda otp_doc_man_28.1.tar.gz https://github.com/erlang/otp/releases/download/OTP-28.1/

var_append confopt ' ' "--enable-smp-support --without-javac"
pkginstalled openssl && var_append confopt ' ' --with-ssl

if atstage "cross"; then
export erl_xcomp_sysroot=$root
export ac_cv_func_isnan=yes
export ac_cv_func_isinf=yes
fi

LD="$CXX"

install_manpages() {
    tar $taropt `match_source_file -p otp_doc_man_` -C $root$libdir/erlang/
}

hook_add postinstall 3 "install_manpages"
