# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../podsleuth/sg_utils.patch
# Copyright (C) 2009 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- T2-COPYRIGHT-NOTE-END ---

diff -uraN podsleuth-0.6.0.orig/configure podsleuth-0.6.0/configure
--- podsleuth-0.6.0.orig/configure	2007-12-18 23:22:01.000000000 +0100
+++ podsleuth-0.6.0/configure	2008-08-09 14:32:40.707682701 +0200
@@ -4261,13 +4261,13 @@
 
 
 
-{ echo "$as_me:$LINENO: checking for sg_ll_inquiry in -lsgutils" >&5
-echo $ECHO_N "checking for sg_ll_inquiry in -lsgutils... $ECHO_C" >&6; }
+{ echo "$as_me:$LINENO: checking for sg_ll_inquiry in -lsgutils2" >&5
+echo $ECHO_N "checking for sg_ll_inquiry in -lsgutils2... $ECHO_C" >&6; }
 if test "${ac_cv_lib_sgutils_sg_ll_inquiry+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lsgutils  $LIBS"
+LIBS="-lsgutils2  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4327,7 +4327,7 @@
 #define HAVE_LIBSGUTILS 1
 _ACEOF
 
-  LIBS="-lsgutils $LIBS"
+  LIBS="-lsgutils2 $LIBS"
 
 else
   { { echo "$as_me:$LINENO: error: Error! You need to have libsgutils." >&5
diff -uraN podsleuth-0.6.0.orig/src/PodSleuth/PodSleuth/ScsiReader.cs podsleuth-0.6.0/src/PodSleuth/PodSleuth/ScsiReader.cs
--- podsleuth-0.6.0.orig/src/PodSleuth/PodSleuth/ScsiReader.cs	2007-09-17 09:51:40.000000000 +0200
+++ podsleuth-0.6.0/src/PodSleuth/PodSleuth/ScsiReader.cs	2008-08-09 14:43:16.559431933 +0200
@@ -50,7 +50,7 @@
             }
         }
         
-        [DllImport("libsgutils.so.1")]
+        [DllImport("libsgutils2.so.2")]
         private static extern int sg_ll_inquiry(int sg_fd, int cmddt, int evpd, int pg_op,
             IntPtr resp, int mx_resp_len, int noisy, int verbose);
             
@@ -74,4 +74,4 @@
             }
         }
     }
-}
\ Intet linjeskift ved filafslutning
+}
diff -uraN podsleuth-0.6.0.orig/src/PodSleuth/PodSleuth.dll.config.in podsleuth-0.6.0/src/PodSleuth/PodSleuth.dll.config.in
--- podsleuth-0.6.0.orig/src/PodSleuth/PodSleuth.dll.config.in	2007-09-17 09:51:40.000000000 +0200
+++ podsleuth-0.6.0/src/PodSleuth/PodSleuth.dll.config.in	2008-08-09 14:42:46.522431555 +0200
@@ -1,4 +1,4 @@
 <configuration>
-	<dllmap dll="libsgutils.so.1" target="libsgutils.so.1" />
+	<dllmap dll="libsgutils2.so.2" target="libsgutils2.so.2" />
 </configuration>

