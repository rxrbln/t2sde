[COPY] --- T2-COPYRIGHT-BEGIN ---
[COPY] t2/package/*/dbus-glib/dbus-glib.desc
[COPY] Copyright (C) 2004 - 2025 The T2 SDE Project
[COPY] SPDX-License-Identifier: GPL-2.0
[COPY] --- T2-COPYRIGHT-END ---

[I] A message bus system

[T] D-BUS is a message bus, used for sending messages between
[T] applications. Conceptually, it fits somewhere in between raw sockets
[T] and CORBA in terms of complexity.
[T]
[T] D-BUS supports broadcast messages, asynchronous messages (thus
[T] decreasing latency), authentication, and more. It is designed to be
[T] low-overhead; messages are sent using a binary protocol, not using
[T] XML. D-BUS also supports a method call mapping for its messages, but
[T] it is not required; this makes using the system quite simple.

[U] https://freedesktop.org/wiki/Software/dbus

[A] Havoc Pennington <hp@redhat.com>
[M] Juergen "George" Sawinski <jsaw@gmx.net>

[C] extra/network
[F] CROSS NO-AS-NEEDED NO-LTO

[L] GPL
[S] Beta
[V] 0.114
[P] X -----5---9 112.510

[D] 17ccba6763b5a37ce4e97831ca2170b8d4c362155afc5a232a22a60e dbus-glib-0.114.tar.gz http://dbus.freedesktop.org/releases/dbus-glib/

if atstage cross native; then
	hook_add preconf 5 "echo 'ac_cv_func_posix_getpwnam_r=yes' >> config.cache"
	var_append makeopt ' ' DBUS_BINDING_TOOL=dbus-binding-tool
fi

if pkginstalled mono && pkginstalled gtk-sharp; then
	var_append confopt ' ' --enable-mono
else
	var_append confopt ' ' --disable-mono
fi

if pkginstalled pyrexc; then
	var_append confopt ' ' --enable-python
fi

hook_add premake 5 'cp -v $confdir/dbus-bus-introspect.xml tools/'
