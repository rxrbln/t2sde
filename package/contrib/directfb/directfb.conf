# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: package/.../directfb/directfb.conf
# Copyright (C) 2004 - 2006 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License. A copy of the
# GNU General Public License can be found in the file COPYING.
# --- T2-COPYRIGHT-NOTE-END ---

# this makes to search libsysfs.so in /lib - libtool issue
var_append LDFLAGS ' ' "-L$root/lib"
export LDFLAGS

#  --enable-multi            enable multi application core default=no
pkginstalled dfb-linux-fusion && var_append confopt ' ' "--enable-multi"

#  --enable-voodoo           enable Voodoo (network support) default=no
#var_append confopt ' ' "--enable-vodoo"

#  --enable-zlib              use zlib, e.g. for screen shots default=no
var_append confopt ' ' "--enable-zlib"

#  --enable-video4linux2     build with Video4Linux2 support default=no
var_append confopt ' ' "--enable-video4linux2"

#  --enable-linux-input      build Linux Input driver default=no
var_append confopt ' ' "--enable-linux-input"

#  --enable-x11            build with X11 support
if pkginstalled libx11 ; then
	var_append confopt ' ' "--enable-x11" 
	hook_add preconf 5  'sed -i -e "s,/usr/X11R6,/usr/X11,g" configure'
	[[ $libdir != *lib ]] &&  hook_add preconf 9 'sed -i -e "s,/usr/X11/lib,/usr/X11/lib64,g" configure'
else
	var_append confopt ' ' "--disable-x11"
fi
