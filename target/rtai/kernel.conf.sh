# --- T2-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# 
# T2 SDE: target/embedded/kernel.conf.sh
# Copyright (C) 2004 - 2005 The T2 SDE Project
# 
# More information can be found in the files COPYING and README.
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License. A copy of the
# GNU General Public License can be found in the file COPYING.
# --- T2-COPYRIGHT-NOTE-END ---
# here we disable all OSS modules - because they suck

echo "desktop target -> disabling oss sound modules ..."

sed -i -e "s/CONFIG_VIDEO_DEV=./# CONFIG_VIDEO_DEV is not set/" \
       -e "s/CONFIG_DVB=./# CONFIG_DVB is not set/" \
       -e "s/CONFIG_FB=./# CONFIG_FB is not set/" \
       -e "s/CONFIG_SOUND=./# CONFIG_SOUND is not set/" \
       -e "s/CONFIG_PHONE=./# CONFIG_PHONE is not set/" \
       -e "s/CONFIG_I2O=./# CONFIG I2O is not set/" \
       -e "s/CONFIG_AGP=./# CONFIG AGP is not set/" \
       -e "s/CONFIG_DRM=./# CONFIG DRM is not set/" \
       -e "s/CONFIG_\(.*\)GAMEPORT=./# CONFIG_\1GAMEPORT is not set/" $1

 CONFIG_EXPERIMENTAL = y
  # Loadable module support
  #
  CONFIG_MODULES=y
  CONFIG_MODULE_UNLOAD=y
  CONFIG_MODULE_FORCE_UNLOAD=y
  # CONFIG_MODVERSIONS is not set
  # CONFIG_MODULE_SRCVERSION_ALL is not set
  CONFIG_KMOD=y
  
  #
  # Processor type and features
  #
  # CONFIG_PREEMPT_NONE is not set
  # CONFIG_PREEMPT_VOLUNTARY is not set
  CONFIG_PREEMPT=y
  # CONFIG_X86_MSR is not set
  CONFIG_IPIPE=y
  
  # Pseudo filesystems
  #
  CONFIG_PROC_FS=y
  
  
  
# NFS
  
CONFIG_NFS_FS
CONFIG_ROOT_NFS
CONFIG_NET_ETHERNET  
  