#!/bin/bash

mount -n -t proc proc /proc
mount -n -t tmpfs tmpfs /tmp

cd /dev ; rm -f fd
ln -sf /proc/kcore      core
ln -sf /proc/self/fd    fd
ln -sf fd/0             stdin
ln -sf fd/1             stdout
ln -sf fd/2             stderr
ln -sf misc/psaux       mouse
cd /

exec < /dev/console > /dev/console 2> /dev/console ; cd /

cat << EOF
 _       __     __                             __           __ _    ______
| |     / /__  / /________  ____ ___  ___     / /_____     / /| |  / / __ \\
| | /| / / _ \/ / ___/ __ \/ __ \`__ \/ _ \   / __/ __ \   / / | | / / /_/ /
| |/ |/ /  __/ / /__/ /_/ / / / / / /  __/  / /_/ /_/ /  / /__| |/ / ____/
|__/|__/\___/_/\___/\____/_/ /_/ /_/\___/   \__/\____/  /_____/___/_/

A lot of fun wishes:
The LVP Team:
	-Benjamin 'blindcoder' Schieder
EOF

ttydevs="vc/2 vc/3"

for x in $ttydevs  ; do
	( ( while : ; do agetty -i 38400 $x -n -l /bin/login-shell ; done ) & )
done

/bin/keymap
/bin/hardware
/bin/kernel

agetty -i 38400 vc/1 -n -l /bin/linuxrc2
